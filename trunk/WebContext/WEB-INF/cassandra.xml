<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="
       	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">

	<!-- Cassandra descriptor bean -->
	<bean id="_cassandra_descriptor" class="org.hydra.db.server.CassandraDescriptorBean">		
		<!-- Set keyspace -->
		<property name="keyspaces">
			<set>
				<ref bean="_ksp_KSMain"/>
			</set>
		</property>			
	</bean>
	
	<!-- Cassandra accessor bean -->
	<bean id="_cassandra_accessor" class="org.hydra.db.server.CassandraAccessorBean">
		<!-- Set cassandra descriptor -->
		<property name="descriptor">
			<ref bean="_cassandra_descriptor"/>
		</property>
		
		<property name="host" value="localhost"/>
		<property name="port"><value type="int">9160</value></property>
		<property name="poolSizeMin"><value type="int">5</value></property>
	</bean>
	
	<!-- Ksp description -->
	<bean id="_ksp_KSMain" class="org.hydra.db.beans.KeyspaceBean">
		<property name="name" value="KSMain"/>
		<property name="linkTableName" value="Links"/>		
		<property name="columnFamilies">
			<set>
				<ref bean="_cf_article"/>
				<ref bean="_cf_comments"/>
				<ref bean="_cf_users"/>
				<ref bean="_cf_tags"/>
			</set>
		</property>
	</bean>	
	
	<!--ColumnFamilies & Columns description -->
	<bean id="_cf_article" class="org.hydra.db.beans.ColumnFamilyBean">
		<property name="name" value="Articles" />
		<property name="columnBeans">
			<set>
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Title"/>
					<property name="super" value="COLUMN"/>
				</bean>
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Text"/>
					<property name="super" value="COLUMN"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Comments"/>
					<property name="super" value="LINK"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Tags"/>
					<property name="super" value="LINK"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Authors"/>
					<property name="super" value="LINK"/>
				</bean>				
			</set>
		</property>
	</bean>
	
	<bean id="_cf_comments" class="org.hydra.db.beans.ColumnFamilyBean">
		<property name="name" value="Comments" />
		<property name="columnBeans">
			<set>
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Text"/>
					<property name="super" value="COLUMN"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Comments"/>
					<property name="super" value="LINK"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Authors"/>
					<property name="super" value="LINK"/>
				</bean>				
			</set>
		</property>
	</bean>

	<bean id="_cf_users" class="org.hydra.db.beans.ColumnFamilyBean">
		<property name="name" value="Users" />
		<property name="columnBeans">
			<set>
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Email"/>
					<property name="super" value="COLUMN"/>
				</bean>	

				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Password"/>
					<property name="super" value="COLUMN"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Atricles"/>
					<property name="super" value="LINK"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Comments"/>
					<property name="super" value="LINK"/>
				</bean>								
			</set>
		</property>
	</bean>

	<bean id="_cf_tags" class="org.hydra.db.beans.ColumnFamilyBean">
		<property name="name" value="Tags" />
		<property name="columnBeans">
			<set>
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Name"/>
					<property name="super" value="COLUMN"/>
				</bean>	
								
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Atricles"/>
					<property name="super" value="LINK"/>
				</bean>
				
				<bean class="org.hydra.db.beans.ColumnBean">
					<property name="name" value="Comments"/>
					<property name="super" value="Tags"/>
				</bean>								
			</set>					
		</property>
	</bean>

</beans>
