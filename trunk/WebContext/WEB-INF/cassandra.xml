<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xsi:schemaLocation="
       	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">

	<!-- Cassandra descriptor bean -->
	<bean id="_cassandra_descriptor" class="org.hydra.db.server.CassandraDescriptorBean">		
		<property name="linkTableName" value="Links"/>		
		<property name="columnFamilies">
			<set>
				<ref bean="Tags"/>
				<ref bean="Users"/>
				<ref bean="Articles"/>
				<ref bean="Comments"/>
			</set>
		</property>			
	</bean>
	
	<!-- Cassandra accessor bean -->
	<bean id="_cassandra_accessor" class="org.hydra.db.server.CassandraAccessorBean">
		<property name="host" value="localhost"/>
		<property name="port"><value type="int">9160</value></property>
		<property name="poolSizeMin"><value type="int">5</value></property>
	</bean>		
		
	<!-- ColumnFamilies & Columns description -->
	<bean id="Articles" class="org.hydra.beans.db.ColumnFamilyBean">
		<property name="name" value="Articles" />
		<property name="columns">
			<set>
				<bean class="org.hydra.beans.db.ColumnBean">
					<property name="name" value="Title"/>
				</bean>				
				<bean class="org.hydra.beans.db.ColumnBean">
					<property name="name" value="Text"/>
				</bean>
			</set>			
		</property>
		<property name="links">
			<set>
				<ref bean="Comments"/>
				<ref bean="Tags"/>
				<ref bean="Users"/>
			</set>			
		</property>
	</bean>
	
	<bean id="Comments" class="org.hydra.beans.db.ColumnFamilyBean">
		<property name="name" value="Comments" />
		<property name="columns">
			<set>
				<bean class="org.hydra.beans.db.ColumnBean">
					<property name="name" value="Text"/>
				</bean>
			</set>			
		</property>
		<property name="links">
			<set>
				<ref bean="Comments"/>
				<ref bean="Users"/>
			</set>			
		</property>
	</bean>

	<bean id="Users" class="org.hydra.beans.db.ColumnFamilyBean">
		<property name="name" value="Users" />
		<property name="columns">
			<set>
				<bean class="org.hydra.beans.db.ColumnBean">
					<property name="name" value="Email"/>
				</bean>	

				<bean class="org.hydra.beans.db.ColumnBean">
					<property name="name" value="Password"/>
				</bean>
			</set>			
		</property>
		<property name="links">
			<set>
				<ref bean="Articles"/>
			</set>			
		</property>				
	</bean>

	<bean id="Tags" class="org.hydra.beans.db.ColumnFamilyBean">
		<property name="name" value="Tags" />
		<property name="columns">
			<set>
				<bean class="org.hydra.beans.db.ColumnBean">
					<property name="name" value="Name"/>
				</bean>	
			</set>			
		</property>
		<property name="links">
			<set>
				<ref bean="Tags"/>
			</set>			
		</property>											
	</bean>
	
	<!-- My Bean initialization [pre|post]processor -->
	<bean class="org.hydra.beans.db.BeansPostProcessor"/>	

</beans>
